<div class="aigis-sidemenu">
  <header class="aigis-header">
    <a href="{{root}}index.html">
      {{#if config.logoSrc}}
        <span class="aigis-logo">
          <img src="{{config.logoSrc}}" />
        </span>
      {{/if}}
      {{config.name}}
    </a>
  </header>
  <nav class="aigis-categoryList">
    <ul>
      {{#each (renderCollectionTree 'category' key='children')}}
        {{!-- Inline Partial needed for the recursive menu list --}}
        {{#*inline "menulist"}}
          <li class="aigis-category-item {{#if isCurrent}}aigis-category-item--active{{/if}}" data-path-depth="{{depth}}">

            <a class="{{#if children.length}}aigis-link--parent{{/if}}" href="{{#if href}}{{href}}{{else}}#{{/if}}">{{name}}</a>

            {{#if children.length}}
              <ul class="aigis-category__children {{#if isCurrentChildren}}aigis-category__children--active{{/if}}">
                {{#each children}}
                  {{!-- call the partial --}}
                  {{> menulist}}
                {{/each}}
              </ul>
            {{/if}}
          </li>
        {{/inline}}
        {{> menulist}}
      {{/each}}
    </ul>

  </nav>
  <h2 class="aigis-sidemenu__heading">Tag</h2>
  <nav class="aigis-tags aigis-tagList">
    {{# each config.collection.tag}}
      <a class="aigis-tags__item aigis-tags__item--{{this}}" href="{{@root.root}}tag/{{this}}/index.html">{{this}}</a>
    {{/each}}
  </nav>
</div>
